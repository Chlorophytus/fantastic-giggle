# fantastic-giggle
This is a design for low power draw applications.

## Boot ROM generation
### Generate a blank BootROM
```shell
$ dd if=/dev/zero of=./rtl_memory16/bootrom.hex bs=4k count=1
```
Edit this in a hex editor to get what you want. This is how we generate 4kB BootROM blanks in house.
### Convert the BootROM to a Verilog hex file
```shell
$ python3 ./utilities/genmem.py ./rtl_memory/bootrom.hex > ./rtl_memory/bootrom.mem
```
This can be put into a Verilog Vivado project as a valid hex file for our memory's `$readmemh`. To include the notice for posterity:
```c
// Autogenerated file by `genmem.py`
// Due to the sparse nature of Verilog HEX files, it is recommended to
// use the `genmem.py` script with a hex file to generate hex files.
// . . .
```
## Shader ISA
### Pipelining
Each shader has 4 stages.
### Addressing Modes
#### Immediate
Load two 8-bit immediate values, store into register. Due to the very nature of this shader architecture this will take two cycles.
```
Clk[0] => fetch/decode opcode
Clk[1] => fetch imm[1]
Clk[2] => fetch imm[0]
Clk[3] => execution of sequential unit(s) BEGIN

Clk[4] => STALL
Clk[5] => STALL
Clk[6] => execution of sequential unit(s) END
Clk[7] => write INTO ONLY register, possibly checking flags
```
#### Indirect
Load a 16-bit address for two 8-bit values to store into/from a register.
```
Clk[0] => fetch/decode opcode
Clk[1] => fetch addr[1]
Clk[2] => fetch addr[0]
Clk[3] => write INTO OR FROM register, possibly checking flags
```
